(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{sHwJ:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,l,d,o=a("bx4M"),i=(a("g9YV"),a("wCAj")),r=(a("14J3"),a("BMrR")),c=(a("jCWc"),a("kPKH")),s=(a("+L6B"),a("2/Rp")),u=a("p0pE"),m=a.n(u),p=a("2Taf"),f=a.n(p),h=a("vZ4D"),b=a.n(h),k=a("l4Ni"),I=a.n(k),v=a("ujKo"),y=a.n(v),M=a("MhPg"),g=a.n(M),E=(a("2qtc"),a("kLXV")),D=(a("5NDa"),a("5rEg")),C=(a("OaEy"),a("2fM7")),V=(a("y8nQ"),a("Vl3Y")),O=a("q1tI"),S=a.n(O),w=a("MuoO"),x=a("zHco"),A=a("X4Mq"),P=V["a"].Item,R=C["a"].Option,j=V["a"].create()(function(e){var t=e.form,a=e.form.getFieldDecorator,n=e.addModalVisible,l=e.handleAddCancel,d=e.handleAddOk,o=function(){t.validateFields(function(e,t){e||d(t)})},i=function(){t.resetFields(),l()};return S.a.createElement(E["a"],{destroyOnClose:!0,title:"\u6dfb\u52a0\u5339\u914d\u5173\u7cfb",visible:n,onOk:o,onCancel:i},S.a.createElement(V["a"],{layout:"vertical"},S.a.createElement(P,{hasFeedback:!0,label:"\u7b2c\u4e09\u65b9\u5e73\u53f0"},a("platform",{initialValue:"",rules:[{required:!0,message:"\u5fc5\u987b\u9009\u5b9a\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e73\u53f0"}]})(S.a.createElement(C["a"],{placeholder:"\u9009\u62e9\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5e73\u53f0"},Object.keys(A["a"]).map(function(e){return S.a.createElement(R,{value:e,key:"addPlatform_".concat(e)},A["a"][e])})))),S.a.createElement(P,{label:"\u7b2c\u4e09\u65b9\u5546\u54c1ID"},a("targetSkuId",{initialValue:"",rules:[{required:!0,message:"\u5fc5\u987b\u8f93\u5165\u4e00\u4e2a\u5546\u54c1ID"}]})(S.a.createElement(D["a"],{placeholder:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u7b2c\u4e09\u65b9\u5546\u54c1ID"})))))}),T=(n=Object(w["connect"])(function(e){var t=e.sobProduct,a=e.loading;return{sobProduct:t,loading:a.models.sobProduct}}),n((d=function(e){function t(e){var a;f()(this,t),a=I()(this,y()(t).call(this,e)),a.columns=[{title:"\u5e73\u53f0",dataIndex:"platform",render:function(e){return A["a"][e]||A["b"][e]}},{title:"\u4e00\u7ea7\u54c1\u7c7b",dataIndex:"categoryOne"},{title:"\u4e8c\u7ea7\u54c1\u7c7b",dataIndex:"categoryTwo"},{title:"\u4e09\u7ea7\u54c1\u7c7b",dataIndex:"categoryThree"},{title:"\u5546\u54c1ID",dataIndex:"skuId"},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"title"},{title:"\u4ef7\u683c",dataIndex:"price"},{title:"\u4ef7\u683c\u7ade\u4e89\u529b",dataIndex:"advantage"},{title:"\u6570\u636e\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime"},{title:"\u5546\u54c1\u72b6\u6001",dataIndex:"status"},{title:"\u64cd\u4f5c",render:function(e,t,n){return S.a.createElement("div",{key:e+n},A["b"][t.platform]?null:S.a.createElement("a",{onClick:function(){return a.handleTableCancel(t.skuId,t.platform)}},"\u53d6\u6d88\u5339\u914d"))}}],a.init=function(){a.fetchDetailData()},a.fetchDetailData=function(){var e=a.props.dispatch,t=a.state.skuId;e({type:"sobProduct/fetchDetailData",payload:{skuId:t}})},a.handleTableCancel=function(e,t){a.setState({targetSkuId:e,platform:t,removeModalVisible:!0})},a.handleRemoveOk=function(){var e=a.props.dispatch,t=a.state,n=t.skuId,l=t.platform,d=t.targetSkuId;e({type:"sobProduct/postRemoveMapping",payload:{params:{skuId:n,platform:l,targetSkuId:d},cb:function(){a.fetchDetailData(),a.setState({removeModalVisible:!1})}}})},a.handleRemoveCancel=function(){a.setState({removeModalVisible:!1})},a.handleAddModalShow=function(){a.setState({addModalVisible:!0})},a.handleAddOk=function(e){var t=a.props.dispatch,n=a.state.skuId;t({type:"sobProduct/postAddMapping",payload:{params:m()({},e,{skuId:n}),cb:function(){a.fetchDetailData(),a.setState({addModalVisible:!1})}}})},a.handleAddCancel=function(){a.setState({addModalVisible:!1})};var n=e.match.params.skuId;return a.state={skuId:n,targetSkuId:"",platform:"",removeModalVisible:!1,addModalVisible:!1},a}return g()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"render",value:function(){var e=this.props.sobProduct.detailData,t=this.state,a=t.removeModalVisible,n=t.addModalVisible;return S.a.createElement(x["a"],{title:"\u5546\u54c1\u8be6\u60c5"},S.a.createElement(o["a"],{bordered:!1},S.a.createElement("div",{className:"styles.wrapper"},S.a.createElement(r["a"],{type:"flex",justify:"end",style:{marginBottom:"1em"}},S.a.createElement(c["a"],null,S.a.createElement(s["a"],{size:"large",type:"primary",onClick:this.handleAddModalShow},"\u6dfb\u52a0\u5339\u914d"))),S.a.createElement(i["a"],{rowKey:"key",pagination:!1,dataSource:e,columns:this.columns}),S.a.createElement(E["a"],{destroyOnClose:!0,title:"\u53d6\u6d88\u5339\u914d",visible:a,onOk:this.handleRemoveOk,onCancel:this.handleRemoveCancel},e&&e[0]&&e[0].platform?"\u662f\u5426\u53d6\u6d88\u8be5\u5546\u54c1\u4e0e".concat(A["b"][e[0].platform]).concat(e[0].title,"\u5546\u54c1\u7684\u5339\u914d\u5173\u7cfb\uff1f\u53d6\u6d88\u540e\u5c06\u4e0d\u5728\u5217\u8868\u4e2d\u5c55\u793a\u4e0e\u8be5\u5546\u54c1\u4ef7\u683c\u5bf9\u6bd4\u3002"):null),S.a.createElement(j,{addModalVisible:n,handleAddCancel:this.handleAddCancel,handleAddOk:this.handleAddOk}))))}}]),t}(O["Component"]),l=d))||l);t["default"]=T}}]);